; ===============================================
; PHP OPcache Configuration for Performance
; ===============================================
; Add these settings to your php.ini file
; Location: Usually in C:\xampp\php\php.ini or similar
; After adding, restart Apache/PHP-FPM
; ===============================================

[opcache]
; Enable OPcache
opcache.enable=1
opcache.enable_cli=1

; Memory Settings
opcache.memory_consumption=256
opcache.interned_strings_buffer=16
opcache.max_accelerated_files=10000

; Performance Settings
opcache.revalidate_freq=2
opcache.fast_shutdown=1
opcache.enable_file_override=1

; Optimization Level
opcache.optimization_level=0x7FFFBFFF

; File Cache (Optional - for better performance)
; opcache.file_cache="C:/temp/opcache"
; opcache.file_cache_only=0

; Validation Settings
opcache.validate_timestamps=1
opcache.revalidate_path=0
opcache.save_comments=1
opcache.load_comments=1

; Error Handling
opcache.log_verbosity_level=1
opcache.error_log=""

; Advanced Settings
opcache.protect_memory=0
opcache.use_cwd=1
opcache.max_file_size=0
opcache.consistency_checks=0
opcache.force_restart_timeout=180
opcache.lockfile_path="/tmp"

; JIT Compilation (PHP 8.0+)
opcache.jit_buffer_size=100M
opcache.jit=1255

; ===============================================
; How to Verify OPcache is Working
; ===============================================
; 1. Create a file: public/opcache-info.php
; 2. Add this code:
;    <?php
;    phpinfo();
;    ?>
; 3. Visit: http://your-domain.com/opcache-info.php
; 4. Search for "opcache" - should show enabled
; 5. DELETE the file after checking (security)
; ===============================================

; ===============================================
; Performance Impact
; ===============================================
; Expected Improvements:
; - 30-50% faster PHP execution
; - Reduced CPU usage
; - Better response times
; - Lower memory usage per request
; ===============================================

; ===============================================
; Production vs Development
; ===============================================
; DEVELOPMENT:
; opcache.validate_timestamps=1
; opcache.revalidate_freq=0
; (Checks for file changes on every request)

; PRODUCTION:
; opcache.validate_timestamps=0
; (Never checks for file changes - maximum performance)
; Remember to clear OPcache after code deployment!
; ===============================================

; ===============================================
; Clear OPcache Commands
; ===============================================
; Method 1: Restart web server
; Method 2: Use opcache_reset() in PHP
; Method 3: Create a script:
;
; <?php
; if (function_exists('opcache_reset')) {
;     opcache_reset();
;     echo "OPcache cleared!";
; }
; ?>
; ===============================================
